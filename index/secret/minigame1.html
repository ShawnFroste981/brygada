<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styl-mngm1.css">
    <link rel="shortcut icon" href="obrazy/icon/who.png">
    <title>Zgadnij kto to</title>
</head>
<body>
    <div class="left">
        <header>
            <h1>Zgadnij kto to?</h1>
            <h2>Albo śmierć</h2>
        </header>
    
        <nav>
            <nav class="setting">
                <label for="setSelect">Wybierz zestaw:</label><br>
                <select id="setSelect">
                    <option value="1">Zestaw 1</option>
                    <option value="2">Zestaw 2</option>
                    <option value="3">Zestaw 3</option>
                </select><br>
                <button onclick="loadImages()">Wczytaj</button>
            </nav>
        </nav>

        <section class="persona">
            <img id="userImage" src="obrazy/guessing/0.png" height="200px"><br>
            <button onclick="randomizeImage()">Wylosuj obraz</button>
        </section>
        <section class="picking">
            <button onclick="selectAllImages()">Zaznacz wszystkie obrazy</button>
            <button onclick="deselectAllImages()">Odznacz wszystkie obrazy</button>
        </section>
    </div>
    
    <div class="right">
        <main>
            <table>
                <tbody>
                    <tr>
                        <td><img id="img1" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img2" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img3" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img4" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img5" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img6" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img7" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img8" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img9" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img10" height="200px" src="obrazy/guessing/0.png"></td>
                    </tr>
                    <tr>
                        <td><img id="img11" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img12" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img13" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img14" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img15" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img16" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img17" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img18" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img19" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img20" height="200px" src="obrazy/guessing/0.png"></td>
                    </tr>
                    <tr>
                        <td><img id="img21" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img22" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img23" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img24" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img25" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img26" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img27" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img28" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img29" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img30" height="200px" src="obrazy/guessing/0.png"></td>
                    </tr>
                    <tr>
                        <td><img id="img31" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img32" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img33" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img34" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img35" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img36" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img37" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img38" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img39" height="200px" src="obrazy/guessing/0.png"></td>
                        <td><img id="img40" height="200px" src="obrazy/guessing/0.png" ></td>
                    </tr>
                </tbody>
            </table>
        </main>
    </div>
    
    <script>
        function loadImages() {
            // Pobierz wybraną wartość z pola wyboru
            const setValue = document.getElementById("setSelect").value;
    
            // Iteruj przez wszystkie obrazy i zaktualizuj ich src
            for (let i = 1; i <= 40; i++) {
                const imgElement = document.getElementById("img" + i);
                imgElement.src = "obrazy/guessing/" + setValue + "/" + i + ".png";
            }
        }

        function randomizeImage() {
        // Pobierz wybraną wartość z pola wyboru
        const setValue = document.getElementById("setSelect").value;

        // Sprawdź, czy został wybrany zestaw
        if (setValue) {
            // Wylosuj liczbę od 1 do 40
            const randomIndex = Math.floor(Math.random() * 40) + 1;

            // Ustaw wylosowany obraz
            const userImage = document.getElementById("userImage");
            userImage.src = "obrazy/guessing/" + setValue + "/" + randomIndex + ".png";
        } else {
            // Jeśli nie wybrano zestawu, nic się nie dzieje
            alert("Proszę wybrać zestaw przed losowaniem obrazu!");
        }
    }

    // Funkcja do zaznaczania obrazów po kliknięciu
    document.querySelectorAll("main img").forEach(function(img) {
        img.addEventListener("click", function() {
            // Sprawdź, czy obraz ma klasę zaznaczoną
            if (img.classList.contains("selected")) {
                // Jeśli tak, odznacz go
                img.classList.remove("selected");
                img.style.filter = "none"; // Usuń przyciemnienie
            } else {
                // W przeciwnym razie zaznacz go
                img.classList.add("selected");
                img.style.filter = "brightness(50%)"; // Przyciemnij obraz
            }
        });
    });

    // Funkcja do zaznaczania wszystkich obrazów
    function selectAllImages() {
        document.querySelectorAll("main img").forEach(function(img) {
            img.classList.add("selected");
            img.style.filter = "brightness(50%)"; // Przyciemnij obraz
        });
    }

    // Funkcja do odznaczania wszystkich obrazów
    function deselectAllImages() {
        document.querySelectorAll("main img").forEach(function(img) {
            img.classList.remove("selected");
            img.style.filter = "none"; // Usuń przyciemnienie
        });
    }
    </script>
</body>
</html>